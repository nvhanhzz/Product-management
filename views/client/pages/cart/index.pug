extends ../../layouts/default.pug

block addCss 
    link(rel="stylesheet", href="/css/cart.css")

block main 
    div(style="height: 20px")
    .container
        h2 Cart
        div(style="height: 20px")

        table(class="table table-bordered")
            thead 
                tr.cartTr 
                    th 
                        input(type="checkbox" name="checkall")
                    th Order
                    th Image
                    th Name
                    th Price
                    th Quantity
                    th Total price
                    th Action

            tbody 
                each item, index in cart.products 
                    if item.render
                        tr.cartTr
                            td 
                                input(type="checkbox" name="checkitem" val=item._id)
                            td #{index + 1}
                            td 
                                img(
                                    src=item.productInfor.thumbnail
                                    alt=item.title
                                    width="100px"
                                    height="auto"
                                )
                            td 
                                a(href=`/products/${item.productInfor.slug}`) #{item.productInfor.title}
                            td #{`$ ${item.productInfor.newPrice}`}
                            td 
                                form(action='' method="POST")
                                    input(type="number" value=item.quantity style="width: 50px; text-align: center;")
                            td #{`$ ${item.productInfor.totalPrice}`}
                            td 
                                form(action='' method="POST")
                                    button(class="btn btn-danger") Delete

        div(style="display: flex; justify-content: flex-end; margin-bottom: 50px")
            div
                h2 #{`Total order price: `}
                button(class="btn btn-success" style="margin-left: 200px;") PAY



    script(src="/js/cart.js")